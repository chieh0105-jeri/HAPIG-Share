<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>LIFF 測試頁</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <h2>LIFF Flex Message 測試頁</h2>
  <button id="shareBtn">分享 Flex Message</button>

  <script>
    async function main() {
      // 填入你的 LIFF ID（不是整個 URL，只是那串字母數字）
      const liffId = "2007971868-97vJ6JBv";

      await liff.init({ liffId });

      if (!liff.isLoggedIn()) {
        liff.login();
      }

      const flexMessage = {
        type: "flex",
        altText: "這是測試 Flex Message",
        contents: {
          type: "bubble",
          body: {
            type: "box",
            layout: "vertical",
            contents: [
              { type: "text", text: "Hello LIFF!", weight: "bold", size: "xl" },
              { type: "text", text: "這是一張測試卡片" }
            ]
          }
        }
      };

      document.getElementById("shareBtn").onclick = async () => {
        await liff.shareTargetPicker([flexMessage]);
      };
    }

    main();
  </script>
</body>
</html>
