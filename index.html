<html>
<head>
  <meta charset="UTF-8">
  <title>LIFF Flex 測試頁</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <h1>LIFF Flex Message 測試頁</h1>
  <button id="shareBtn">分享 Flex Message</button>

  <script>
    async function main() {
      // 將下方換成你的 LIFF ID（不是 URL）
      const liffId = "2007971868-97vJ6JBv";

      await liff.init({ liffId });

      // 若未登入，導向登入
      if (!liff.isLoggedIn()) {
        liff.login();
      }

      // 範例 Flex Message
      const flexMessage = {
        type: "flex",
        altText: "測試 Flex Message",
        contents: {
          type: "bubble",
          body: {
            type: "box",
            layout: "vertical",
            contents: [
              { type: "text", text: "Hello LIFF!", weight: "bold", size: "xl" },
              { type: "text", text: "這是一張測試卡片" }
            ]
          }
        }
      };

      // 按鈕點擊事件
      document.getElementById("shareBtn").onclick = async () => {
        await liff.shareTargetPicker([flexMessage]);
      };
    }

    main();
  </script>
</body>
</html>
